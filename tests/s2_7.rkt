;; A very simple test to trigger allocation and deletion of vectors
;; use the test suite option --heap-length 1000 and this test should
;; easily cause an allocation.
;; Conservative estimate:
;; 50 words per vector * 20 vectors = 1000 word 
(let ([v0 (vector 0 1 2 3 4 5 6 7 8 9
                  10 11 12 13 14 15 16 17 18 19
                  20 21 22 23 24 25 26 27 28 29
                  30 31 32 33 34 35 36 37 38 39
                  40 41 42 43 44 45 46 47 48 49)]
      [v1 (vector 0 1 2 3 4 5 6 7 8 9
                  10 11 12 13 14 15 16 17 18 19
                  20 21 22 23 24 25 26 27 28 29
                  30 31 32 33 34 35 36 37 38 39
                  40 41 42 43 44 45 46 47 48 49)]
      [v2 (vector 0 1 2 3 4 5 6 7 8 9
                  10 11 12 13 14 15 16 17 18 19
                  20 21 22 23 24 25 26 27 28 29
                  30 31 32 33 34 35 36 37 38 39
                  40 41 42 43 44 45 46 47 48 49)]
      [v3 (vector 0 1 2 3 4 5 6 7 8 9
                  10 11 12 13 14 15 16 17 18 19
                  20 21 22 23 24 25 26 27 28 29
                  30 31 32 33 34 35 36 37 38 39
                  40 41 42 43 44 45 46 47 48 49)]
      [v4 (vector 0 1 2 3 4 5 6 7 8 9
                  10 11 12 13 14 15 16 17 18 19
                  20 21 22 23 24 25 26 27 28 29
                  30 31 32 33 34 35 36 37 38 39
                  40 41 42 43 44 45 46 47 48 49)]
      [v5 (vector 0 1 2 3 4 5 6 7 8 9
                  10 11 12 13 14 15 16 17 18 19
                  20 21 22 23 24 25 26 27 28 29
                  30 31 32 33 34 35 36 37 38 39
                  40 41 42 43 44 45 46 47 48 49)]
      [v6 (vector 0 1 2 3 4 5 6 7 8 9
                  10 11 12 13 14 15 16 17 18 19
                  20 21 22 23 24 25 26 27 28 29
                  30 31 32 33 34 35 36 37 38 39
                  40 41 42 43 44 45 46 47 48 49)]
      [v7 (vector 0 1 2 3 4 5 6 7 8 9
                  10 11 12 13 14 15 16 17 18 19
                  20 21 22 23 24 25 26 27 28 29
                  30 31 32 33 34 35 36 37 38 39
                  40 41 42 43 44 45 46 47 48 49)]
      [v8 (vector 0 1 2 3 4 5 6 7 8 9
                  10 11 12 13 14 15 16 17 18 19
                  20 21 22 23 24 25 26 27 28 29
                  30 31 32 33 34 35 36 37 38 39
                  40 41 42 43 44 45 46 47 48 49)]
      [v9 (vector 0 1 2 3 4 5 6 7 8 9
                  10 11 12 13 14 15 16 17 18 19
                  20 21 22 23 24 25 26 27 28 29
                  30 31 32 33 34 35 36 37 38 39
                  40 41 42 43 44 45 46 47 48 49)]
      [v10 (vector 0 1 2 3 4 5 6 7 8 9
                  10 11 12 13 14 15 16 17 18 19
                  20 21 22 23 24 25 26 27 28 29
                  30 31 32 33 34 35 36 37 38 39
                  40 41 42 43 44 45 46 47 48 49)]
      [v11 (vector 0 1 2 3 4 5 6 7 8 9
                  10 11 12 13 14 15 16 17 18 19
                  20 21 22 23 24 25 26 27 28 29
                  30 31 32 33 34 35 36 37 38 39
                  40 41 42 43 44 45 46 47 48 49)]
      [v12 (vector 0 1 2 3 4 5 6 7 8 9
                  10 11 12 13 14 15 16 17 18 19
                  20 21 22 23 24 25 26 27 28 29
                  30 31 32 33 34 35 36 37 38 39
                  40 41 42 43 44 45 46 47 48 49)]
      [v13 (vector 0 1 2 3 4 5 6 7 8 9
                  10 11 12 13 14 15 16 17 18 19
                  20 21 22 23 24 25 26 27 28 29
                  30 31 32 33 34 35 36 37 38 39
                  40 41 42 43 44 45 46 47 48 49)]
      [v14 (vector 0 1 2 3 4 5 6 7 8 9
                  10 11 12 13 14 15 16 17 18 19
                  20 21 22 23 24 25 26 27 28 29
                  30 31 32 33 34 35 36 37 38 39
                  40 41 42 43 44 45 46 47 48 49)]
      [v15 (vector 0 1 2 3 4 5 6 7 8 9
                  10 11 12 13 14 15 16 17 18 19
                  20 21 22 23 24 25 26 27 28 29
                  30 31 32 33 34 35 36 37 38 39
                  40 41 42 43 44 45 46 47 48 49)]
      [v16 (vector 0 1 2 3 4 5 6 7 8 9
                  10 11 12 13 14 15 16 17 18 19
                  20 21 22 23 24 25 26 27 28 29
                  30 31 32 33 34 35 36 37 38 39
                  40 41 42 43 44 45 46 47 48 49)]
      [v17 (vector 0 1 2 3 4 5 6 7 8 9
                  10 11 12 13 14 15 16 17 18 19
                  20 21 22 23 24 25 26 27 28 29
                  30 31 32 33 34 35 36 37 38 39
                  40 41 42 43 44 45 46 47 48 49)]
      [v18 (vector 0 1 2 3 4 5 6 7 8 9
                  10 11 12 13 14 15 16 17 18 19
                  20 21 22 23 24 25 26 27 28 29
                  30 31 32 33 34 35 36 37 38 39
                  40 41 42 43 44 45 46 47 48 49)]
      [v19 (vector 0 1 2 3 4 5 6 7 8 9
                  10 11 12 13 14 15 16 17 18 19
                  20 21 22 23 24 25 26 27 28 29
                  30 31 32 33 34 35 36 37 38 39
                  40 41 42 43 44 45 46 47 48 49)]
      [v20 (vector 0 1 2 3 4 5 6 7 8 9
                  10 11 12 13 14 15 16 17 18 19
                  20 21 22 23 24 25 26 27 28 29
                  30 31 32 33 34 35 36 37 38 39
                  40 41 42 43 44 45 46 47 48 49)])
  (vector-ref v0 43))
